diff -ruN /mnt/data/site_orig/arabialearners-main/.env.example /mnt/data/site_mod/.env.example
--- /mnt/data/site_orig/arabialearners-main/.env.example	1970-01-01 00:00:00.000000000 +0000
+++ /mnt/data/site_mod/.env.example	2025-09-02 14:46:41.509409861 +0000
@@ -0,0 +1,3 @@
+# Copy to .env.local and fill values
+OPENAI_API_KEY=
+FIREBASE_API_KEY=
diff -ruN /mnt/data/site_orig/arabialearners-main/.gitignore /mnt/data/site_mod/.gitignore
--- /mnt/data/site_orig/arabialearners-main/.gitignore	1970-01-01 00:00:00.000000000 +0000
+++ /mnt/data/site_mod/.gitignore	2025-09-02 14:46:41.509106967 +0000
@@ -0,0 +1,11 @@
+# env & local
+.env*
+!.env.example
+
+# deps & build
+node_modules/
+dist/
+.vite/
+.next/
+build/
+.DS_Store
diff -ruN /mnt/data/site_orig/arabialearners-main/api/_ratelimit.js /mnt/data/site_mod/api/_ratelimit.js
--- /mnt/data/site_orig/arabialearners-main/api/_ratelimit.js	1970-01-01 00:00:00.000000000 +0000
+++ /mnt/data/site_mod/api/_ratelimit.js	2025-09-02 14:46:41.576545913 +0000
@@ -0,0 +1,9 @@
+// Simple rate limiter scaffold (Upstash Redis)
+import { Ratelimit } from "@upstash/ratelimit";
+import { Redis } from "@upstash/redis";
+export const redis = Redis.fromEnv();
+export const limiter = new Ratelimit({ redis, limiter: Ratelimit.slidingWindow(30, "1 m") });
+export async function checkLimit(req) {
+  const ip = (req.headers?.get?.("x-forwarded-for")?.split(",")[0]) || "127.0.0.1";
+  return limiter.limit(`ip:${ip}`);
+}
diff -ruN /mnt/data/site_orig/arabialearners-main/firebase/firestore.rules /mnt/data/site_mod/firebase/firestore.rules
--- /mnt/data/site_orig/arabialearners-main/firebase/firestore.rules	2025-09-02 14:46:41.339207972 +0000
+++ /mnt/data/site_mod/firebase/firestore.rules	2025-09-02 14:46:41.509893797 +0000
@@ -1 +1,8 @@
-rules_version='2';service cloud.firestore{match /databases/{database}/documents{match /{document=**}{allow read,write: if request.auth!=null;}}}
\ No newline at end of file
+rules_version = '2';
+service cloud.firestore {
+  match /databases/{database}/documents {
+    match /users/{uid}/{collection=**}/{docId} {
+      allow read, write: if request.auth != null && request.auth.uid == uid;
+    }
+  }
+}
diff -ruN /mnt/data/site_orig/arabialearners-main/firebase/storage.rules /mnt/data/site_mod/firebase/storage.rules
--- /mnt/data/site_orig/arabialearners-main/firebase/storage.rules	2025-09-02 14:46:41.339293999 +0000
+++ /mnt/data/site_mod/firebase/storage.rules	2025-09-02 14:46:41.510111624 +0000
@@ -1 +1,8 @@
-rules_version='2';service firebase.storage{match /b/{bucket}/o{match /{allPaths=**}{allow read,write: if request.auth!=null;}}}
\ No newline at end of file
+rules_version = '2';
+service firebase.storage {
+  match /b/{bucket}/o {
+    match /users/{uid}/{allPaths=**} {
+      allow read, write: if request.auth != null && request.auth.uid == uid;
+    }
+  }
+}
diff -ruN /mnt/data/site_orig/arabialearners-main/index.html /mnt/data/site_mod/index.html
--- /mnt/data/site_orig/arabialearners-main/index.html	2025-09-02 14:46:41.339401778 +0000
+++ /mnt/data/site_mod/index.html	2025-09-02 14:46:41.575923206 +0000
@@ -1,6 +1,16 @@
 <!doctype html>
 <html lang="en">
-  <head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Arabic Learner</title>  <link rel="icon" href="/favicon.png" />
+  \1
+<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
+<meta name="description" content="Practice Arabic with instant feedback: translation drills, word order, and vocab tracking." />
+<meta name="theme-color" content="#0b1320" />
+<link rel="manifest" href="/manifest.webmanifest" />
+<meta property="og:title" content="Arabic Learner" />
+<meta property="og:description" content="Arabic drills with instant feedback." />
+<meta property="og:type" content="website" />
+<meta property="og:image" content="/og.png" />
+<link rel="preload" href="/semester1.json" as="fetch" crossorigin="anonymous" />
+<meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Arabic Learner</title>  <link rel="icon" href="/favicon.png" />
 </head>
   <body><div id="root"></div><script type="module" src="/src/main.jsx"></script></body>
 </html>
\ No newline at end of file
diff -ruN /mnt/data/site_orig/arabialearners-main/public/manifest.webmanifest /mnt/data/site_mod/public/manifest.webmanifest
--- /mnt/data/site_orig/arabialearners-main/public/manifest.webmanifest	1970-01-01 00:00:00.000000000 +0000
+++ /mnt/data/site_mod/public/manifest.webmanifest	2025-09-02 14:46:41.572588279 +0000
@@ -0,0 +1,15 @@
+{
+  "name": "Arabic Learner",
+  "short_name": "Arabic Learner",
+  "start_url": "/",
+  "display": "standalone",
+  "background_color": "#0b1320",
+  "theme_color": "#0b1320",
+  "icons": [
+    {
+      "src": "/favicon.png",
+      "sizes": "512x512",
+      "type": "image/png"
+    }
+  ]
+}
\ No newline at end of file
diff -ruN /mnt/data/site_orig/arabialearners-main/public/robots.txt /mnt/data/site_mod/public/robots.txt
--- /mnt/data/site_orig/arabialearners-main/public/robots.txt	1970-01-01 00:00:00.000000000 +0000
+++ /mnt/data/site_mod/public/robots.txt	2025-09-02 14:46:41.572152066 +0000
@@ -0,0 +1,3 @@
+User-agent: *
+Allow: /
+Sitemap: https://YOUR_DOMAIN/sitemap.xml
diff -ruN /mnt/data/site_orig/arabialearners-main/public/sitemap.xml /mnt/data/site_mod/public/sitemap.xml
--- /mnt/data/site_orig/arabialearners-main/public/sitemap.xml	1970-01-01 00:00:00.000000000 +0000
+++ /mnt/data/site_mod/public/sitemap.xml	2025-09-02 14:46:41.581710689 +0000
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
+  <url>
+    <loc>https://YOUR_DOMAIN/</loc>
+    <changefreq>weekly</changefreq>
+    <priority>0.8</priority>
+  </url>
+</urlset>
diff -ruN /mnt/data/site_orig/arabialearners-main/src/App.jsx /mnt/data/site_mod/src/App.jsx
--- /mnt/data/site_orig/arabialearners-main/src/App.jsx	2025-09-02 14:46:41.341774126 +0000
+++ /mnt/data/site_mod/src/App.jsx	2025-09-02 14:46:41.578934059 +0000
@@ -1,8 +1,8 @@
+const TranslateGame = React.lazy(()=>import('./components/TranslateGame.jsx'));
 // src/App.jsx
 import { useEffect, useState } from 'react'
 import Header from './components/ui/Header.jsx'
 import Home from './components/Home.jsx'
-import TranslateGame from './components/TranslateGame.jsx'
 import WordOrderGame from './components/WordOrderGame.jsx'
 import Words from './components/Words.jsx'
 import SignIn from './components/SignIn.jsx'
@@ -39,11 +39,13 @@
 
       <main className="container" style={{ paddingTop: 16 }}>
         {mode === 'home' && <Home onNav={setMode} user={authUser} />}
-        {mode === 'translate' && <TranslateGame user={authUser} />}
+        <Suspense fallback={<div className="small">Loading…</div>}>
+  {mode === 'translate' && <TranslateGame user={authUser} />}
         {mode === 'word-order' && <WordOrderGame user={authUser} />}
         {mode === 'words' && <Words user={authUser} />}
         {mode === 'signin' && <SignIn onDone={() => setMode('home')} />}
-      </main>
+      </Suspense>
+</main>
     </div>
   )
 }
diff -ruN /mnt/data/site_orig/arabialearners-main/src/components/TranslateGame.jsx /mnt/data/site_mod/src/components/TranslateGame.jsx
--- /mnt/data/site_orig/arabialearners-main/src/components/TranslateGame.jsx	2025-09-02 14:46:41.342946517 +0000
+++ /mnt/data/site_mod/src/components/TranslateGame.jsx	2025-09-02 14:46:41.579981064 +0000
@@ -196,7 +196,7 @@
         {loading ? <div className="small">Getting a sentence…</div> : (
           <>
             <div className="title mb-16">
-              {direction === 'ar2en' ? <>Arabic: <span>{prompt}</span></> : <>English: <span>{prompt}</span></>}
+              {direction === 'ar2en' ? <>Arabic: <span><span lang="ar" dir="rtl">{prompt}</span></span></> : <>English: <span><span lang="ar" dir="rtl">{prompt}</span></span></>}
             </div>
             <Input placeholder={placeholder} value={guess} onChange={e=>setGuess(e.target.value)} />
             <div className="mt-16 flex gap-16">
diff -ruN /mnt/data/site_orig/arabialearners-main/src/lib/__tests__/wordStats.test.js /mnt/data/site_mod/src/lib/__tests__/wordStats.test.js
--- /mnt/data/site_orig/arabialearners-main/src/lib/__tests__/wordStats.test.js	1970-01-01 00:00:00.000000000 +0000
+++ /mnt/data/site_mod/src/lib/__tests__/wordStats.test.js	2025-09-02 14:46:41.581049455 +0000
@@ -0,0 +1,4 @@
+import { stripDiacritics } from '../wordStats';
+test('diacritics are stripped', () => {
+  expect(stripDiacritics('الْكِتابُ')).toBe('الكتاب');
+});
diff -ruN /mnt/data/site_orig/arabialearners-main/vercel.json /mnt/data/site_mod/vercel.json
--- /mnt/data/site_orig/arabialearners-main/vercel.json	2025-09-02 14:46:41.373906253 +0000
+++ /mnt/data/site_mod/vercel.json	2025-09-02 14:46:41.571696444 +0000
@@ -6,6 +6,31 @@
         {
           "key": "Cross-Origin-Opener-Policy",
           "value": "same-origin-allow-popups"
+        },
+        {
+          "key": "Referrer-Policy",
+          "value": "strict-origin-when-cross-origin"
+        },
+        {
+          "key": "X-Content-Type-Options",
+          "value": "nosniff"
+        },
+        {
+          "key": "X-Frame-Options",
+          "value": "DENY"
+        },
+        {
+          "key": "Permissions-Policy",
+          "value": "camera=(), microphone=(), geolocation=()"
+        }
+      ]
+    },
+    {
+      "source": "/assets/(.*)",
+      "headers": [
+        {
+          "key": "Cache-Control",
+          "value": "public, max-age=31536000, immutable"
         }
       ]
     }
